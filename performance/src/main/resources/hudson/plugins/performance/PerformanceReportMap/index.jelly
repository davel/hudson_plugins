<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define"
	xmlns:l="/lib/layout" xmlns:t="/lib/hudson" xmlns:f="/lib/form">
  <l:layout xmlns:jm="/hudson/plugins/performance/tags">
  <st:include it="${it.build}" page="sidepanel.jelly" />
    <l:main-panel>
      <j:forEach var="performanceReport" items="${it.getPerformanceListOrdered()}">
        <h1>${performanceReport.getReportFileName()}</h1>
        <h2>${%Overall Performance Summary}</h2>
        <table border="1">
          <jm:captionLine />
          <tr>
            <td>All URIs</td>
            <jm:summaryTable it="${performanceReport}" />
          </tr>
        </table>
        <h2>${%Performance Breakdown by URI}</h2>
        <table class="sortable" border="1">
          <jm:captionLine />
          <j:forEach var="uriReport" items="${performanceReport.getUriListOrdered()}">
            <tr bgcolor="${h.ifThenElse(uriReport.failed,'red',null)}">
              <td>
                <a href="./uriReport/${uriReport.encodeUriReport()}">
                  <st:out value="${uriReport.getUri()}" />
                </a>
              </td>
              <jm:summaryTable it="${uriReport}" />
            </tr>
          </j:forEach>
        </table>					
      </j:forEach> 
    </l:main-panel>
  </l:layout>
</j:jelly>